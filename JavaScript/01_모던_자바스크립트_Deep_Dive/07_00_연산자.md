# 07. 연산자 

연산자(operator)는 하나의 이상의 표현식을 대상으로 *산술, 할당, 비교, 논리, 타입, 지수 연산(operation) 등*을 수행해 **하나의 값**을 만든다. 
이때 연산의 대상을 피연산자(operand)라 한다. 피연산자는 *값으로 평가될 수 있는 표현식*이어야 한다.
그리고 연산자 표현식도 값으로 평가될 수 있는 표현식이다.

**피연산자는 값으로 평가할 수 있어야하고 연산자는 값으로 평가된 피연산자를 연산해 새로운 값을 만든다.**

## 7.1 산술 연산자

산술 연산자(arithmetic operator)는 피연산자를 대상으로 **수학적 계산을 수행해 새로운 숫자 값을 만든다.**(*산술이 불가능할 경우, NaN을 반환*)

### 7.1.1 이항 산술 연산자

이항(binary) 산술 연산자는 **2개의 피연산자를 산술 연산하여 숫자 값을 만든다.**

산술 연산은 피연산자의 값이 바뀌는 경우(부수 효과, side effect)이 없고 언제나 새로운 값을 만든다.

- \+
- \-
- \*
- /
- %

### 7.1.2 단항 산술 연산자

단항(unary) 산술 연산자는 **1개의 피연산자를 산술 연산하여 숫자 값을 만든다.**

- \++
- \--
- \+ : 어떠한 효과도 없다. 음수를 양수로 반전하지도 않는다.
- \- : 양수를 음수로, 음수를 양수로 값을 반환한다.

증가/감소(++/--) 연산자는 **피연산자의 값을 변경하는 부수효과가 있다.**

- 전위 증가/감소 연산자(prefix increment/decrement operator)
<br>
피연산자의 값을 증가/감소시킨 후, 다른 연산을 수행한다.
- 후위 증가/감소 연산자(postfix increment/decrement operator)
<br>
먼저 다른 연산을 수행한 후, 피연산자의 값을 증가/감소시킨다.

```javascript
var x = 5, result;

// postfix increment
result = x++;
console.log(result, x); // 5 6

// prefix increment
result = ++x;
console.log(result, x); // 6 6

// postfix decrement
result = x--;
console.log(result, x); // 7 6

// prefix decrement
result = --x;
console.log(result, x); // 5 5
```

\+ 단항 연산자의 경우, 숫자 타입이 아닌 피연산자에 사용하면 *숫자 타입으로 변환한 값을 생성해서 반환한다.*

```javascript
var x = '1';

console.log(+x); // 1
console.log(x); // '1'
```

\- 단한 연산자의 경우, 피연산자의 부호를 반전한 값을 반환하는데, *숫자 타입이 아닌 피연산자에 사용하면 피연산자를 숫자 타입으로 변환하여 반환한다.*

```javascript
-(-10); // 10

-'10' // -10
```

### 7.1.3 문자열 연결 연산자

\+ 연산자는 **피연산자 중 하나 이상이 문자열인 경우 문자열 연결 연산자로 동작한다.** 그 외의 경우는 산술 연산자로 동작한다.

```javascript
'1' + 2;       // '12'

1 + true;      // 2

+undefined;    // NaN
1 + undefined; // NaN
```

위의 예시(1+true)에서, 개발자의 의도와는 상관없이 자바스크립트 엔진에 의해 암묵적으로 타입이 자동 변환되기도 하는데, 이를 **암묵적 타입 변환(implicit coercion)** 또는 **타입 강제 변환(type coercion)** 이라고 한다.

## 7.2 할당 연산자

할당 연산자(assginment operator)는 **우항에 있는 피연산자의 평가 결과를 좌항에 있는 변수에 할당**한다. 이때, *부수 효과가 있다.*

- =
- +=
- -=
- *=
- /=
- %=

❓ **할당문은 표현식인 문일까, 표현식이 아닌 문일까?**

```javascript
var x;
console.log(x = 10); // 10
```

할당문은 값으로 평가되는 표현식인 문으로서 할당된 값으로 평가된다.

이러한 특징을 활용해 여러 변수에 동일한 값을 연쇄 할당할 수 있다.

```javascript
var a, b, c;

a = b = c = 0;

console.log(a, b, c); // 0 0 0 
```

## 7.3 비교 연산자

비교 연산자(comparision operator)는 **좌항과 우항의 피연산자를 비교한 다음 그 결과를 불리언 값으로 반환한다.**

### 7.3.1 동등/일치 비교 연산자

동등 비교(loose equality)와 일치 비교(strict equality) 연산자는 **비교하는 엄격성의 정도가 다르다.**

- == : 동등 비교
- === : 일치 비교
- != : 부동등 비교
- !== : 불일치 비교

동등 비교 연산자는 **좌항과 우항의 피연산자를 비교할 때, 먼저 암묵적 타입 변환을 통해 타입을 일치시킨 후 같은 값인지 비교한다.**

```javascript
5 == 5; // true

5 == '5'; // true
```

이는 편리한 경우도 있지만 결과를 예측하기 어렵고 실수하기 쉽다.

```javascript
'0' == '';          // false
0 == '';            // true
0 == '0';           // true

false == 'false';   // false
false == '0';       // true
false == null;      // false
false == undefined; // false
```

일치 비교 연산자는 **좌항과 우항의 피연산자가 타입도 같고 값도 같은 경우에 한하여 true를 반환한다.**

```javascript
5 === 5; // true

5 === '5'; // false
```

이때, NaN은 자신과 일치하지 않는 유일한 값이다. `Number.isNaN`을 사용한다.

```javascript
NaN === NaN; // flase

Number.isNaN(NaN); // true
```

양의 0과 음의 0도 주의하자. 일치/동등 모두 ture이다.

```javascript
0 === +0; // true
0 == -0;  // true
```

> [!NOTE]
> Object.is 메소드 <br>
    ES6에 도입한 **Object.is 메소드는 예측 가능한 정확한 비교 결과를 반환한다.** 

```javascript
-0 === +0;           // true
Object.is(-0, +0);   // false

NaN === NaN;         // false
Object.is(NaN, NaN); // true
```

부동등/불일치 비교 연산자는 반대 개념이다.

### 7.3.2 대소 관계 비교 연산자

- \>
- <
- \>=
- <=

## 7.4 삼항 조건 연산자

삼항 조건 연산자(ternary operator)는 **조건식의 평가 결과에 따라 반환할 값**을 결정한다. 부수 효과는 없다.

```
조건식 ? 조건식이 true일 때 반환할 값 : 조건식이 false일 때 반환할 값
```

두 번째 피연산자 또는 세 번째 피연산자로 평가되는 표현식으로, 만약 조건식의 평가 결과가 불리언 값이 아니면 불리언 값으로 암묵적 타입 변환된다.

삼항 조건 연산자 표현식은 조건문이다. 
삼항 조건 연산자 표현식은 값처럼 사용할 수 있지만, `if...else` 문은 값처럼 사용할 수 없다.

**삼항 조건 연산자 표현식은 값으로 평가할 수 있는 표현식인 문이다.**
따라서 값처럼 다른 표현식의 일부가 될 수 있어 매우 유용하다.

```javascript
var x = 10;

var result = x % 2 ? '홀수' : '짝수';
console.log(result); // 짝수
```

## 7.5 논리 연산자

논리 연산자(logical operator)는 우항과 좌항의 피연산자(부정 논리 연산자의 경우 우항의 피연산자)를 논리 연산한다.

- || : 논리합
- && : 논리곱
- !  : 부정

이때, 논리 부정 연산자는 피연산자가 불리언 값이 아니면 불리언 타입으로 암묵적 타입 변환된다.

```javascript
!0; // true
!'Hello' // false
```

논리합 또는 논리곱 연산자 표현식은 언제나 2개의 피연산자 중 어느 한쪽으로 평가된다.

```javascirpt
// 단축 평가
'A' && 'B'; // 'B'
```

> [!NOTE]
> 드 모르간의 법칙

```
!(x || y) === (!x && !y)
!(x && y) === (!x || !y)
```

## 7.6 쉼표 연산자

쉼표(,) 연산자는 마지막 피연산자의 평가가 끝나면 마지막 피연산자의 평가 결과를 반환한다.

```javascript
var x, y, z;

x = 1, y = 2, z = 3;
```

## 7.7 그룹 연산자

그룹 연산자는 **자신의 피연산자인 표현식을 가장 먼저 평가한다.** 이를 이용해 *우선순위를 조절*할 수 있다.

## 7.8 typeof 연산자

typeof 연산자는 피연산자의 데이터 타입을 문자열로 반환한다.

이때, null은 `Object`로 반환한다. 그러므로 **null 체크할 때는 일치연산자를 사용하자.**

```javascript
var foo = null;

typeof foo === null; // false
foo === null; // true
```

## 7.9 지수 연산자

- **

지수 연산자가 도입되기 전에는 Math.pow 메서드를 사용했다.

## 7.10 그 외의 연산자

- ?. : 옵셔널 체이닝 연산자
- ?? : null 병합 연산자
- delete : 프로퍼티 삭제
- new : 생성자 함수를 호출할 때 사용하여 인스턴스를 생성
- instanceof : 좌변의 객체가 우변의 생성자 함수와 연결된 인스턴스인지 판별
- in : 프로퍼티 존재 확인

## 7.11 연산자의 부수 효과

대부분의 연산자는 다른 코드에 영향을 주지 않는다. 하지만 부수 효과가 있는 연산자는 할당연산자(=), 증가/감소 연산자(++/--), delete 연산자이다.

## 7.12 연산자 우선순위

연산자 우선순위란 여러 개의 연산자로 이뤄진 문이 실행될 때 연산자가 실행되는 순서를 말한다.

## 7.13 연산자 결합 순서

연산자 결합 순서란 연산자의 어느 쪽(좌항 또는 우항)부터 평가를 수행할 것인지를 나타내는 순서를 말한다.

[👉 연산자 우선순위 && 결합 순서](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Operators/Operator_precedence)
